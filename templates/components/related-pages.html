{% load wagtailcore_tags wagtailimages_tags %}

{% if page.related_pages %}
  <section class="site-padding site-container py-16 md:py-24">

    {# Section heading: defaults to 'Read more' if custom title is missing #}
    {% firstof page.featured_section_title 'Read more' as heading %}
    {% include "components/streamfield/blocks/heading2_block.html" with value=heading %}

    {# Horizontal scrollable card list #}
    <div class="snap-x w-full flex gap-10 overflow-x-auto pt-6">
      {% for related_page in page.related_pages.specific %}
        <div class="snap-start min-w-80">
          {% include "components/card.html" with page=related_page %}
        </div>
      {% endfor %}
    </div>
    
  </section>
{% endif %}
