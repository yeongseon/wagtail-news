{% load wagtailcore_tags wagtailsettings_tags static %}
{% wagtail_site as current_site %}

<footer class="w-full bg-black text-white px-6 md:px-20 py-16">
  <div class="max-w-screen-xl mx-auto flex flex-col lg:flex-row justify-between gap-16">

    {% if settings.navigation.NavigationSettings.footer_navigation %}
    <div class="grid grid-cols-2 gap-10">
      {% for link_section in settings.navigation.NavigationSettings.footer_navigation %}
        <div class="flex flex-col gap-6">
          <h2 class="text-xl font-semibold">{{ link_section.value.section_heading }}</h2>
          <ul class="flex flex-col gap-4">
            {% for link in link_section.value.links %}
              <li>
                <a href="{{ link.value.get_url }}"
                   class="underline underline-offset-4 decoration-white hover:opacity-80 transition">
                  {{ link.value.get_title }}
                </a>
              </li>
            {% endfor %}
          </ul>
        </div>
      {% endfor %}
    </div>
    {% endif %}

    <div class="max-w-md w-full">
      {% if settings.utils.SystemMessagesSettings.footer_newsletter_signup_link %}
      <div class="flex flex-col gap-4">
        <h2 class="text-xl font-semibold" id="footer-newsletter-signup-title">
          {{ settings.utils.SystemMessagesSettings.footer_newsletter_signup_title }}
        </h2>
        {% if settings.utils.SystemMessagesSettings.footer_newsletter_signup_description %}
          <p class="text-sm text-white/80 leading-relaxed">
            {{ settings.utils.SystemMessagesSettings.footer_newsletter_signup_description }}
          </p>
        {% endif %}
        <div class="flex flex-col sm:flex-row gap-2 pt-2">
          <input 
            type="email"
            placeholder="Enter your email"
            aria-labelledby="footer-newsletter-signup-title"
            class="px-4 py-2 rounded border border-white text-black w-full"
          >
          {% include "components/button.html" with variant="footer" title="Sign up" url=settings.utils.SystemMessagesSettings.footer_newsletter_signup_link %}
        </div>
      </div>
      {% endif %}

      {% if settings.utils.SocialMediaSettings.linkedin_handle or settings.utils.SocialMediaSettings.instagram_handle or settings.utils.SocialMediaSettings.twitter_handle or settings.utils.SocialMediaSettings.facebook_app_id or settings.utils.SocialMediaSettings.tiktok_handle %}
      <div class="pt-10 flex gap-6">
        {% if settings.utils.SocialMediaSettings.linkedin_handle %}
          <a href="https://linkedin.com/company/{{ settings.utils.SocialMediaSettings.linkedin_handle }}"
             aria-label="KPN News on LinkedIn"
             class="hover:opacity-70 transition">
            {% include "icons/social/linkedin.svg" %}
          </a>
        {% endif %}
        {% if settings.utils.SocialMediaSettings.instagram_handle %}
          <a href="https://instagram.com/{{ settings.utils.SocialMediaSettings.instagram_handle }}"
             aria-label="KPN News on Instagram"
             class="hover:opacity-70 transition">
            {% include "icons/social/instagram.svg" %}
          </a>
        {% endif %}
        {% if settings.utils.SocialMediaSettings.twitter_handle %}
          <a href="https://twitter.com/{{ settings.utils.SocialMediaSettings.twitter_handle }}"
             aria-label="KPN News on Twitter"
             class="hover:opacity-70 transition">
            {% include "icons/social/twitter.svg" %}
          </a>
        {% endif %}
        {% if settings.utils.SocialMediaSettings.facebook_app_id %}
          <a href="https://facebook.com/{{ settings.utils.SocialMediaSettings.facebook_app_id }}"
             aria-label="KPN News on Facebook"
             class="hover:opacity-70 transition">
            {% include "icons/social/facebook.svg" %}
          </a>
        {% endif %}
        {% if settings.utils.SocialMediaSettings.tiktok_handle %}
          <a href="https://www.tiktok.com/@{{ settings.utils.SocialMediaSettings.tiktok_handle }}"
             aria-label="KPN News on TikTok"
             class="hover:opacity-70 transition">
            {% include "icons/social/tiktok.svg" %}
          </a>
        {% endif %}
      </div>
      {% endif %}
    </div>
  </div>

  <p class="text-center text-sm opacity-60 pt-12">
    Â© {% now "Y" %} KPN News. All rights reserved.
  </p>
</footer>
